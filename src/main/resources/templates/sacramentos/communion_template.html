<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title th:text="'Certificado de ' + ${acta.tipoSacramento.displayName}">Certificado de Primera Comunión</title>

  <style>
    /* === FUENTES PERSONALIZADAS === */
    @font-face {
        font-family: 'Lora';
        src: url('/fonts/Lora-Regular.ttf') format('truetype');
        font-weight: normal;
    }
    @font-face {
        font-family: 'Playfair Display';
        src: url('/fonts/PlayfairDisplay-Regular.ttf') format('truetype');
        font-weight: normal;
    }

    /* === ESTILOS GENERALES === */
    @page {
        size: A4;
        margin: 0;
    }
    body {
        font-family: 'Lora', serif;
        font-size: 12pt;
        margin: 50px 70px;
        color: #222;
        background-color: #fff;
    }

    .header {
        text-align: center;
        margin-bottom: 40px;
        border-bottom: 2px solid #666;
        padding-bottom: 15px;
    }

    .header img {
        width: 120px;
        height: auto;
        margin-bottom: 15px;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    .header h1 {
        font-family: 'Playfair Display', serif;
        font-size: 26pt;
        margin: 0;
        letter-spacing: 2px;
        color: #333;
        text-transform: uppercase;
    }

    .header h2 {
        font-family: 'Playfair Display', serif;
        font-size: 18pt;
        margin: 5px 0 0 0;
        color: #555;
        text-transform: uppercase;
    }

    .header h3 {
        font-family: 'Playfair Display', serif;
        font-size: 16pt;
        margin: 20px 0 0 0;
        text-transform: uppercase;
        color: #777;
        letter-spacing: 1.5px;
    }

    .content {
        line-height: 1.8;
        text-align: justify;
        margin-top: 20px;
        font-family: 'Lora', serif;
        font-size: 12pt;
        color: #444;
    }

    .content p {
        margin: 15px 0;
    }

    .data {
        font-weight: 700;
        text-transform: uppercase;
        border-bottom: 1px dotted #999;
        padding: 0 5px;
        color: #000;
    }

    /* Bloque de Firmas CORREGIDO para Flying Saucer (usa float) */
    .signatures {
        margin-top: 80px;
        font-family: 'Lora', serif;
        font-size: 11pt;
        color: #333;
    }

    .signature-box {
        width: 45%;
        text-align: center;
        border-top: 1px solid black;
        padding-top: 10px;
        margin-bottom: 20px;
        float: left;
    }

    .signatures .signature-box:last-child {
        float: right;
    }

    .signatures::after {
        content: "";
        display: table;
        clear: both;
    }
  </style>
</head>

<body>
<div class="header">
  <img th:src="'data:image/png;base64,' + ${logoBase64}" alt="Logo Parroquia"/>

  <h1 th:text="'DIÓCESIS DE ' + ${acta.ciudadParroquiaCelebracion}">[Ciudad de la Diócesis]</h1>
  <h2 th:text="'PARROQUIA DE ' + ${acta.nombreParroquiaCelebracion}">[Nombre Parroquia]</h2>
  <h3 th:text="'CERTIFICADO DE ' + ${acta.tipoSacramento.displayName}">CERTIFICADO DE PRIMERA COMUNIÓN</h3>
</div>

<div class="content">
  <p>
    Certifico que en el Libro de Primeras Comuniones de esta Parroquia, al
    <strong>Asiento:</strong> <span class="data" th:text="${acta.asiento}">[Número de Asiento]</span>,
    <strong>Folio:</strong> <span class="data" th:text="${acta.folio}">[Número de Folio]</span>,
    <strong>Libro:</strong> <span class="data" th:text="${acta.libro}">[Número de Libro]</span>,
    se encuentra la partida de Primera Comunión de
    <span class="data" th:text="${acta.nombreCompletoFeligres}">[Nombre Completo del Feligres]</span>,
    quien fue bautizado/a en
    <span class="data">[Parroquia de Bautismo]</span>
    el día <span class="data">[Fecha de Bautismo]</span>.
  </p>

  <p>
    Hijo/a legítimo/a de <span class="data" th:text="${acta.padreNombreText}">[Nombre del Padre]</span>
    y de <span class="data" th:text="${acta.madreNombreText}">[Nombre de la Madre]</span>.
  </p>

  <p>
    Recibió el Sacramento de la Eucaristía (Primera Comunión) el día
    <span class="data"
          th:text="${#temporals.day(acta.fechaCelebracion)} + ' de ' + ${#temporals.monthName(acta.fechaCelebracion)} + ' de ' + ${#temporals.year(acta.fechaCelebracion)}">
                      [Fecha de Primera Comunión]</span>,
    por el <span class="data" th:text="${acta.ministroOficianteNombre}">[Nombre del Ministro Oficiante]</span>.
  </p>

  <p th:if="${acta.notas != null and acta.notas.length() > 0}">
    <strong>Notas:</strong> <span th:text="${acta.notas}">[Notas Adicionales]</span>
  </p>

  <p>
    La presente se expide para los fines que el interesado estime conveniente.
  </p>
</div>

<div class="signatures">
  <div class="signature-box">
    <p>Firma y Sello del Párroco</p>
  </div>

  <div class="signature-box">
    <p th:text="'Dado en ' + ${acta.ciudadParroquiaCelebracion} + ', a ' +
                        ${#temporals.day(acta.fechaEmisionCertificado)} + ' de ' + ${#temporals.monthName(acta.fechaEmisionCertificado)} + ' de ' + ${#temporals.year(acta.fechaEmisionCertificado)}">
      [Lugar y Fecha de Expedición]
    </p>
    <p>Fecha de Expedición</p>
  </div>
</div>
</body>
</html>